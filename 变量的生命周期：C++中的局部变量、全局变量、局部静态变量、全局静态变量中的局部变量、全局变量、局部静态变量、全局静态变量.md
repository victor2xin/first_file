# 变量生命周期：

# C++中的局部变量、全局变量、局部静态变量、全局静态变量中的区别

## 局部变量：
在子程序或代码块中定义的变量称为**局部变量**，
## 全局变量：
在程序的一开始定义的变量称为**全局变量**。
## 全局变量与局部变量的区别：
1. 全局变量作用域是整个程序，局部变量作用域是定义该变量的==子程序==或==代码块==。
2. 当全局变量与局部变量**同名**时：在定义局部变量的子程序内，局部变量起作用；在其它地方全局变量起作用。
3. 全局变量在==程序开始运行期间==就已经在内存中开辟了内存空间，**直到程序结束才会释放这块内存空间**。
4. 全局变量要在其他文件中使用，需显示的声明这个变量，使用**extern**关键字声明（extern int nData;)。

```c
int nData = 10;  // 这是一个全局变量

int main()

{

  int i = 0;  // 这是一个局部变量，这个变量只在main函数中有效。

  int nData = 100;  // 这也是一个局部变量，但是这个局部变量与全局变量重名了，那么如果访问nData这个变量的时候到底访问的是哪个？

  cout << nData << endl;

  return 0;

}
```
这段代码输出的值是100，因为当局部变量与全局变量==重名==时，访问的是局部变量。否则访问的则是全局变量！

## 局部静态变量：

1. 局部static变量与全局变量一样，在程序==开始运行期间==就已经在内存中开辟了空间，直到程序结束才会释放这块内存空间。
2. 一个局部static变量**只定义/初始化一次，后序都不再定义或初始化**。
3. 局部static变量只能在定义的子程序或代码块中访问，不能在外部访问，所以叫**局部静态变量**。

## 全局静态变量：

全局static变量与局部static变量一样，在程序==开始运行期间==就分配了内存地址。

## 局部静态变量与全局静态变量的区别：
局部static变量只能在定义的代码块中被访问，而全局static变量只能在==定义的文件中==被访问。**不能跨文件访问**。


## 相关视频资料参考：
<iframe height=500 width=200  
src="//player.bilibili.com/player.html?aid=73896536&bvid=BV1KE411a7AN&cid=126407481&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


